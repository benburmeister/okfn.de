window.blogSearchData,window.bidx,document.addEventListener("DOMContentLoaded",function(){var t=new XMLHttpRequest;t.open("GET","/js/blog-search-index.json"),t.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);window.bidx=lunr.Index.load(e.idx),window.blogSearchData=e.store,console.log("Blog search index loaded, good to go!"),n()}},t.onerror=function(){console.log("Error loading index")},t.send();function n(){var e=document.getElementById("js-blog-search-overlay"),t=document.getElementById("js-blog-search-input"),i=document.getElementById("js-blog-search-clear"),n=document.getElementById("js-blog-search-results"),s=document.getElementById("js-search-term"),o=document.getElementById("js-blog-index");if(e&&t){t.value="",i.onclick=function(){e.classList.contains("open")&&(e.classList.remove("open"),o.classList.remove("hidden"),s.innerHtml="")};function a(i){var r,a=t.value;a.length===0&&(n.innerHTML="",s.innerHTML="",e.classList.remove("open"),o.classList.remove("hidden")),i.keyCode!==9&&a.length>2&&(s.innerHTML=a,e.classList.add("open"),o.classList.add("hidden"),r=window.bidx.search(a),c(r))}t.addEventListener("keyup",a,!0);function r(e){var t='<li><h2 class="h4">Keine Ergebnisse f√ºr "'+e+'"</h2>';return t+='<p class="h4">Versuche einen anderen Suchbegriff</p></li>',t}function c(e){var s,o=t.value;e.length?(n.innerHTML="",s="",e.forEach(function(e){var t=window.blogSearchData[e.ref],n=new Date(t.date.replace(" +0000 UTC","Z")).toLocaleDateString("de-DE");s+='<li class="c__post--item">',s+='<a href="'+t.url+'" class="row no-gutters">',s+='<h2 class="c__post__title h4 col col-12 col-sm-10">'+t.title+"</h2>",s+='<p class="c__post__date h4 col-12 col-sm-2">'+n+"</p>",s+="</a></li>"}),n.innerHTML=s):n.innerHTML=r(o)}}}})