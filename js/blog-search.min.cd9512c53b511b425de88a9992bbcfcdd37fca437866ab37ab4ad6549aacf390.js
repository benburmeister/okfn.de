window.blogSearchData,window.bidx,document.addEventListener("DOMContentLoaded",function(){var e=new XMLHttpRequest;e.open("GET","/js/blog-search-index.json"),e.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);window.bidx=lunr.Index.load(e.idx),window.blogSearchData=e.store,console.log("Blog search index loaded, good to go!"),t()}},e.onerror=function(){console.log("Error loading index")},e.send();function t(){var e=document.getElementById("js-blog-search-overlay"),t=document.getElementById("js-blog-search-input"),i=document.getElementById("js-blog-search-clear"),n=document.getElementById("js-blog-search-results"),s=document.getElementById("js-search-term"),o=document.getElementById("js-blog-index");if(e&&t){t.value='',i.onclick=function(){e.classList.contains("open")&&(e.classList.remove("open"),o.classList.remove("hidden"),s.innerHtml='')};function a(r){var a,i=t.value;i.length===0&&(n.innerHTML='',s.innerHTML='',e.classList.remove("open"),o.classList.remove("hidden")),r.keyCode!==9&&i.length>2&&(s.innerHTML=i,e.classList.add("open"),o.classList.add("hidden"),a=window.bidx.search(i),c(a))}t.addEventListener("keyup",a,!0);function r(t){var e='<li><h2 class="h4">Keine Ergebnisse f√ºr "'+t+'"</h2>';return e+='<p class="h4">Versuche einen anderen Suchbegriff</p></li>',e}function c(s){var e,o=t.value;s.length?(n.innerHTML='',e='',s.forEach(function(n){var t=window.blogSearchData[n.ref],s=new Date(t.date.replace(" +0000 UTC","Z")).toLocaleDateString("de-DE");e+='<li class="c__post--item">',e+='<a href="'+t.url+'" class="row no-gutters">',e+='<h2 class="c__post__title h4 col col-12 col-sm-10">'+t.title+"</h2>",e+='<p class="c__post__date h4 col-12 col-sm-2">'+s+"</p>",e+="</a></li>"}),n.innerHTML=e):n.innerHTML=r(o)}}}})