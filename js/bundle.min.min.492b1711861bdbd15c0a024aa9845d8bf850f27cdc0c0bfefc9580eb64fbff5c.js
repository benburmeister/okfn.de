document.addEventListener("DOMContentLoaded",function(){document.querySelector("body").classList.remove("no-js"),document.querySelector("body").classList.add("js");var e=document.querySelector("#js-topnav-toggle"),t=document.querySelector("#js-topnav-menu");e&&t&&(t.classList.add("is-hidden"),e.classList.add("is-closed"),e.addEventListener("click",function(){t.classList.toggle("is-hidden"),e.classList.toggle("is-closed")})),tabnav(".js-report","#js-report-nav a"),tabnav(".js-incomes","#js-incomes-nav a"),topnav()});function topnav(){var e,t=0,n=8,s=85;window.addEventListener("scroll",function(){e=!0}),setInterval(function(){e&&(o(),e=!1)},300);function o(){var e=window.scrollY;if(Math.abs(t-e)<=n)return;e>t&&e>s?document.querySelector(".l__topbar").classList.add("is-up"):e-window.innerHeight<window.outerHeight&&document.querySelector(".l__topbar").classList.remove("is-up"),t=e}}function tabnav(s,t){var e=document.querySelectorAll(s),n=document.querySelectorAll(t);e&&n&&(e.forEach(function(e,t){t!==0&&e.classList.add("is-hidden")}),n.forEach(function(n,s){s===0&&n.classList.add("active"),n.addEventListener("click",function(n){n.preventDefault(),e.forEach(function(e){e.classList.add("is-hidden")}),document.querySelector(t+".active").classList.remove("active"),n.target.classList.add("active");var s=n.target.attributes.href.value;document.querySelector(s).classList.remove("is-hidden")})}))}window.idx,window.siteSearchData,document.addEventListener("DOMContentLoaded",function(){var e=new XMLHttpRequest;e.open("GET","/js/site-search-index.json"),e.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);window.idx=lunr.Index.load(e.idx),window.siteSearchData=e.store,console.log("Search index loaded, good to go!"),t()}},e.onerror=function(){console.log("Error loading index")},e.send();function t(){var e=document.querySelector(".js-search-form"),i=document.getElementById("js-search-button"),t=document.getElementById("js-search-input"),a=document.getElementById("js-close-search"),n=document.querySelector("#js-search-results"),s=document.querySelector("#js-search-result-count");if(e&&i&&t&&a&&n){function o(){t.value='',n.innerHTML='',s.innerHTML=''}function r(){t.focus(),window.scroll(0,0)}a.onclick=function(){e.classList.contains("open")&&(e.classList.remove("open"),o())},window.addEventListener("keyup",function(n){var s=n.keyCode;s==27&&(e.classList.contains("open")?(e.classList.remove("open"),o()):(e.classList.add("open"),r(),t.value.length>0&&o()))},!0),i.addEventListener("click",function(){e.classList.toggle("open"),o(),r();var n=document.querySelector("#js-topnav-toggle"),t=document.querySelector("#js-topnav-menu");n&&t&&(t.classList.contains("is-hidden")||(t.classList.toggle("is-hidden"),n.classList.toggle("is-closed")))},!0);function c(i){var o,e=t.value;e.length===0&&(n.innerHTML='',s.innerHTML=''),i.keyCode!==9&&e.length>2&&(o=window.idx.search(e),l(o))}t.addEventListener("keyup",c,!0);function l(e){var o,i=t.value;e.length?(n.innerHTML='',s.innerHTML=e.length+" Ergebnisse",o='',e.forEach(function(s){var n,i,e=window.siteSearchData[s.ref],t='<li class="l__search__result">';t+='<a href="'+e.url+'">',e.section&&(n=[e.section.split('')[0].toUpperCase(),e.section.split('').splice(1).join('')].join(''),t+="<p>In "+n+"</p>"),t+='<h3 class="l__search__result__header">'+e.title+"</h3>",n&&n==="Projekte"&&(t+='<img src="/files/'+e.img+'" width="265" height="179" class="l__search__result__image">'),t+="<p>"+e.content.slice(0,35).join(" ")+" [...]</p></a>",t+="</li>",o+=t}),n.innerHTML+=o):(s.innerHTML='',n.innerHTML=`<li class=\"l__search__result none\">
Keine Ergebnisse f√ºr <span class=\"l__search__input-value\">${i}</span> gefunden.<br/>
Bitte kontrolliere Rechtschreibung und Worttrennung.</li>`)}}else console.log("Missing form elements")}})